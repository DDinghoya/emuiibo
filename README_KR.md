![Logo](emuiibo.png)

# emuiibo

> 커스텀 프로세스 MitM 중인 아미보 에뮬레이션을 위한 `nfp:user` 서비스를 제공합니다 (커스텀이지만 실제로는 `nfp-mitm`의 포크).

## 사용법

최신 릴리즈를 다운로드하여 CFW의 `titles` 폴더에 놓으십시오 (그래서 `<cfw>/titles/0100000000000352`와 같을 것입니다).

테스트에 따르면, NSP sysmodules (Atmosphere, ReiNX)를 허용하는 모든 CFW에서 작동해야합니다.

또한 위치가 CFW에 의존하는 boot2 플래그를 설정해야합니다:

- Atmosphere: `titles/0100000000000352/flags` 디렉토리 안에 `boot2.flag`라는 이름의 파일을 생성하십시오.

- ReiNX: `titles/0100000000000352` 디렉토리 안에 `boot2.flag`라는 이름의 파일을 생성하십시오.

### 콤보

모든 입력 콤보는 R-스틱을 눌러 특정 방향 (동시에)으로 D-패드를 눌러서 수행됩니다. 콤보는 게임이 시작하기 전이나 후에 아미보를 찾아야합니다.

- **Toggle amiibo emulation**: R-스틱을 누르고 (버튼처럼) D-패드를 위로 누릅니다. 토글/토글 해제 에뮬레이션.

- **Toggle amiibo emulation once**: 위와 같지만 D-패드를 오른쪽으로 누르십시오. 아미보를 에뮬레이션 한 후 에뮬레이션을 한 번 토글합니다. 그러면 자동으로 토글 해제됩니다.

- **Untoggle amiibo emulation**: 위와 같지만 D-패드를 아래로 누르십시오. 아미보 에뮬레이션을 해제하고 토글 여부를 모를 경우를 대비해 완전히 엉망이 될 수 있는 방법으로 사용해야합니다.

- **Swap amiibo**: 위와 같지만 D-패드를 왼쪽으로 누릅니다. 마지막 항목이 첫 번째 항목으로 다시 시작하면 아미보 디렉토리에서 다음 아미보로 이동합니다. 아미보 에뮬레이션을 토글하는 경우에만 효과가 있습니다.

Emuiibo의 아미보 디렉토리는 `sd:/emuiibo`입니다. 아미보 덤프를 배치하십시오 (`*.bin` 파일이어야 함).

### 아미보 에뮬레이션

Emuiibo는 아미보의 데이터를 가져오지만 아미보 덤프에는 없으므로 레지스터 정보 (아미보 이름, 작성 날짜, mii)는 자동 생성됩니다:

- 이름은 파일의 이름이 될 것이고 (`Amiibo.bin` -> `Amiibo`) 이름이 10자를 넘으면 `Emuiibo`에 하드코드됩니다.

- 쓰기 날짜는 2019 년 6 월 15 일로 하드코드됩니다.

- 아미보의 mii (소유자)는 콘솔 mii 데이터베이스에 있는 첫 번째 mii로 하드코드됩니다.

### 아미보 덤프

덤프는 `*.bin` 파일로 구성되며 540 바이트 (아마도 더 많은 파일)가 되어야합니다. 여러 도구를 사용하여 덤프될 수 있습니다.

### 개발자 용

이 MitM 프로세스는 IPC에 의한 아미보 스와핑과 에뮬레이션을 제어하는데 사용할 수 있는 커스텀 서비스 인 nfp:emu도 호스트합니다.

[여기](nfpemu-libnx)에 C/C++ 및 libnx에 대한 구현이 있습니다.

## 크레딧

- 내 이전에 `nfp-mitm` 프로젝트에 기여한 모든 사람들: *Subv, ogniK, averne, spx01, SciresM*

- libstratosphere 라이브러리 (SciresM)
